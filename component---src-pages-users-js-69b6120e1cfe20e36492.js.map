{"version":3,"sources":["webpack:///./src/pages/users.js"],"names":["UserData","data","guild_data","allGuildDataJson","nodes","guild_membership","count_data","cum_count_data","forEach","data_item","user_count_by_date","date","count","cumulative_count","top_host_data","allTopHostsDataJson","top_hosts","sort_by_key","top_contributor_data","allTopContributorsDataJson","top_contributors","title","table-layout","width","map","key","array","order","sort","a","b","x","y"],"mappings":"4FAAA,sHAOe,SAASA,EAAT,GAA6B,IAATC,EAAQ,EAARA,KACzBC,EAAaD,EAAKE,iBAAiBC,MACrCC,EAAmB,GACnBC,EAAa,CAAC,CAAC,KAAQ,QAAS,KAAQ,KACxCC,EAAiB,CAAC,CAAC,KAAQ,mBAAoB,KAAQ,KAC3DL,EAAWM,SAAQ,SAASC,GACxBJ,EAAgB,mBAAyBI,EAAUC,sBAEvDL,EAAiBK,mBAAmBF,SAAQ,SAASC,GACjDH,EAAW,GAAX,KAAsBG,EAAUE,MAAQF,EAAUG,MAClDL,EAAe,GAAf,KAA0BE,EAAUE,MAAQF,EAAUI,oBAE1D,IAAMC,EAAgBb,EAAKc,oBAAoBX,MAC3CY,EAAY,GAChBF,EAAcN,SAAQ,SAASC,GAC3BO,EAAS,UAAgBC,EAAYR,EAAUO,UAAW,SAAU,MAExE,IAAME,EAAuBjB,EAAKkB,2BAA2Bf,MACzDgB,EAAmB,GAIvB,OAHAF,EAAqBV,SAAQ,SAASC,GAClCW,EAAgB,iBAAuBH,EAAYR,EAAUW,iBAAkB,SAAU,MAGzF,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKC,MAAM,UACX,4EACA,kBAAC,IAAD,CAAWpB,KAAMK,IACjB,uFACA,kBAAC,IAAD,CAAWL,KAAMM,IACjB,+CACA,2BAAOe,eAAa,QAAQC,MAAM,QAAO,+BACpCP,EAAS,UAAcQ,KAAI,SAASf,GACjC,OACI,wBAAIgB,IAAKhB,EAAS,UACd,4BAAKA,EAAS,UACd,4BAAKA,EAAS,aAK9B,sDACA,2BAAOa,eAAa,QAAQC,MAAM,QAAO,+BACpCH,EAAgB,iBAAqBI,KAAI,SAASf,GAC/C,OACI,wBAAIgB,IAAKhB,EAAS,UACd,4BAAKA,EAAS,UACd,4BAAKA,EAAS,cAS1C,SAASQ,EAAYS,EAAOD,EAAKE,GAEhC,YADD,IADiCA,MAAQ,GAEjCD,EAAME,MAAK,SAASC,EAAGC,GAE7B,IAAIC,EAAIF,EAAEJ,GAAUO,EAAIF,EAAEL,GAC1B,OAAOE,GAAQI,EAAIC,GAAM,EAAMD,EAAIC,EAAK,EAAI","file":"component---src-pages-users-js-69b6120e1cfe20e36492.js","sourcesContent":["import React from \"react\"\r\nimport { graphql } from \"gatsby\"\r\nimport SEO from \"../components/seo\"\r\nimport Layout from \"../components/layout\"\r\nimport { LineChart } from 'react-chartkick'\r\nimport \"chart.js\"\r\n\r\nexport default function UserData( {data} ) {\r\n    const guild_data = data.allGuildDataJson.nodes\r\n    let guild_membership = {}\r\n    let count_data = [{\"name\": \"Count\", \"data\": {}}]\r\n    let cum_count_data = [{\"name\": \"Cumulative Count\", \"data\": {}}]\r\n    guild_data.forEach(function(data_item) {\r\n        guild_membership['user_count_by_date'] = data_item.user_count_by_date\r\n    })\r\n    guild_membership.user_count_by_date.forEach(function(data_item) {\r\n        count_data[0]['data'][data_item.date] = data_item.count\r\n        cum_count_data[0]['data'][data_item.date] = data_item.cumulative_count\r\n    })\r\n    const top_host_data = data.allTopHostsDataJson.nodes\r\n    let top_hosts = {}\r\n    top_host_data.forEach(function(data_item) {\r\n        top_hosts['top_hosts'] = sort_by_key(data_item.top_hosts, 'count', -1)\r\n    })\r\n    const top_contributor_data = data.allTopContributorsDataJson.nodes\r\n    let top_contributors = {}\r\n    top_contributor_data.forEach(function(data_item) {\r\n        top_contributors['top_contributors'] = sort_by_key(data_item.top_contributors, 'count', -1)\r\n    })\r\n    return (\r\n        <Layout>\r\n            <SEO title=\"Users\"></SEO>\r\n            <h1>One Player Guild - Membership Count by Month</h1>\r\n            <LineChart data={count_data}></LineChart>\r\n            <h1>One Player Guild - Cumulative Membership Count by Month</h1>\r\n            <LineChart data={cum_count_data}></LineChart>\r\n            <h1>Top SGOYT Hosts</h1>\r\n            <table table-layout='fixed' width='100%'><tbody>\r\n                {top_hosts['top_hosts'].map(function(data_item) {\r\n                    return (\r\n                        <tr key={data_item['username']}>\r\n                            <td>{data_item['username']}</td>\r\n                            <td>{data_item['count']}</td>\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody></table>\r\n            <h1>Top SGOYT Contributors</h1>\r\n            <table table-layout='fixed' width='100%'><tbody>\r\n                {top_contributors['top_contributors'].map(function(data_item) {\r\n                    return (\r\n                        <tr key={data_item['username']}>\r\n                            <td>{data_item['username']}</td>\r\n                            <td>{data_item['count']}</td>\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody></table>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nfunction sort_by_key(array, key, order = 1)\r\n{\r\n return array.sort(function(a, b)\r\n {\r\n  var x = a[key]; var y = b[key]\r\n  return order*((x < y) ? -1 : ((x > y) ? 1 : 0))\r\n })\r\n}\r\n\r\nexport const query = graphql`\r\n  query {\r\n    allGuildDataJson {\r\n      nodes {\r\n        user_count_by_date {\r\n          count\r\n          cumulative_count\r\n          date\r\n        }\r\n      }\r\n    }\r\n    allTopContributorsDataJson {\r\n      nodes {\r\n        top_contributors {\r\n          count\r\n          username\r\n        }\r\n      }\r\n    }\r\n    allTopHostsDataJson {\r\n      nodes {\r\n        top_hosts {\r\n          count\r\n          username\r\n        }\r\n      }\r\n    }\r\n  }\r\n`"],"sourceRoot":""}